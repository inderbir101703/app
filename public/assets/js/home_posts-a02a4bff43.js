{let t=function(){let t=$("#new-post-form");t.submit((function(o){console.log("wesde");let as=" ";o.preventDefault(),$.ajax({type:"post",url:"/post/add",data:t.serialize(),success:function(t){let o=n(t.data.post);$("#post-list_container1>#post-display>ul").prepend(o),e(" .delete-post-button",o),$('#post-input').val(as)     ,new postcomment(t.data.post._id),new Noty({theme:"relax",text:"Post Created",type:"success",layout:"topRight",timeout:1500}).show()},error:function(t){console.log(t.resposeText)}})}))},n=function(t){return $(`<li id="post-${t._id}" class="rounded p-3 mb-5 bg-secondary text-white">\n      <p> \n         \n          <small>\n              <a class="delete-post-button"  href="post/destroy/${t._id}>">delte</a>\n          </small>\n          \n       ${t.content}<br>\n       <small>\n      \n          ${t.user.name}\n       </small>\n      </p>\n      <div class="post-comments">\n          \n            <form action="/comment/add" method="POST" class="w-50" id="post-<%= post._id %>-comments-form" data="<%=post.id%>">\n          <div class="form-group ">\n              <input type="Text" name="comment" class="form-control"  placeholder="Type something"  required>\n            </div>\n          <input type="hidden" name="post" value="${t._id}">\n          <button type="submit" class="btn btn-primary">Comment</button>\n      </form>\n      \n        \n      <div class="post-comments-list">\n          <ul id="post-comments-${t._id}">\n</ul>\n         </div>\n         </div>\n      </li>`)},e=function(t){$(t).click((function(n){let e=$(t).prop("href");console.log(e),n.preventDefault(),$.ajax({type:"get",url:$(t).prop("href"),success:function(t){$("#post-"+t.data.post_id).remove(),new Noty({theme:"relax",text:"Post Deleted",type:"success",layout:"topRight",timeout:1500}).show()},error:function(t){console.log(t.resposeText)}})}))},o=function(){$(" #post-list_container1>#post-display>ul>li>").each((function(){let t=$(this),n=$(" .delete-post-button",t);e(n);let o=t.prop("id").split("-")[1];new postcomment(o)}))};t(),o()}