{let t=function(){let t=$("#new-post-form");t.submit((function(o){o.preventDefault(),$.ajax({type:"post",url:"/post/add",data:t.serialize(),success:function(t){let o=n(t.data.post);$("#post-list_container").prepend(o),e(" .delete-post-button",o),new postcomment(t.data.post._id)},error:function(t){console.log(t.resposeText)}})}))},n=function(t){return $(`<li id="post-${t._id}">\n      <p> \n         \n          <small>\n              <a class="delete-post-button"  href="post/destroy/${t._id}>">delte</a>\n          </small>\n          \n       ${t.content}<br>\n       <small>\n      \n          ${t.user.name}\n       </small>\n      </p>\n      <div class="post-comments">\n          \n          <form action="/comment/add" method="POST">\n              <input type="text" name="comment">\n              <input type="hidden" name="post" value="${t._id}">\n              <button type="submit">comment</button>\n          </form>\n      \n        \n      <div class="post-comments-list">\n          <ul id="post-comments-${t._id}">\n</ul>\n         </div>\n         </div>\n      </li>`)},e=function(t){$(t).click((function(n){let e=$(t).prop("href");console.log(e),n.preventDefault(),$.ajax({type:"get",url:$(t).prop("href"),success:function(t){$("#post-"+t.data.post_id).remove()},error:function(t){console.log(t.resposeText)}})}))},o=function(){$(" #post-list_container>ul>li").each((function(){let t=$(this),n=$(" .delete-post-button",t);e(n);let o=t.prop("id").split("-")[1];new postcomment(o)}))};t(),o()}